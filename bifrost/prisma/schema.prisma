// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Companies {
  id      String  @id
  name    String
  domain  String  @unique
  website String  @unique
  status  String
  users   Users[]
}

model Users {
  id           String         @id
  email        String         @unique
  firstname    String
  lastname     String
  companyId    String
  password     String         @unique
  status       String
  companies    Companies      @relation(fields: [companyId], references: [id])
  AccessTokens AccessTokens[]
}

model AccessTokens {
  id     String @id
  userId String
  token  String @unique
  status String
  Users  Users  @relation(fields: [userId], references: [id])

  @@unique([token, status], name: "token_status_unique_constraint")
}
